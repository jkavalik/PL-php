begin;
BEGIN
--
-- Test the validator
--
CREATE FUNCTION invalid() RETURNS void LANGUAGE plphp AS $$
	asdasd
$$;
ERROR:  function "invalid" does not validate
CREATE FUNCTION invalid() RETURNS void LANGUAGE plphp AS $$
	{
$$;
ERROR:  function "invalid" does not validate
CREATE OR REPLACE FUNCTION valid() RETURNS void LANGUAGE plphp AS $$
	array_append();
$$;
CREATE FUNCTION
select valid();
ERROR:  could not call function "plphp_proc_478909"
CREATE FUNCTION valid2() RETURNS void LANGUAGE plphp AS $$
	return array();
$$;
CREATE FUNCTION
select valid2();
ERROR:  could not call function "plphp_proc_478910"
rollback;
ROLLBACK
